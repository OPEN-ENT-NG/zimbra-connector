<!--
  ~ Copyright (c) Région Ile-de-France, Région Nouvelle-Aquitaine, CGI, 2016.
  ~ This file is part of OPEN ENT NG. OPEN ENT NG is a versatile ENT Project based on the JVM and ENT Core Project.
  ~
  ~ This program is free software; you can redistribute it and/or modify
  ~ it under the terms of the GNU Affero General Public License as
  ~ published by the Free Software Foundation (version 3 of the License).
  ~ For the sake of explanation, any module that communicate over native
  ~ Web protocols, such as HTTP, with OPEN ENT NG is outside the scope of this
  ~ license and could be license under its own terms. This is merely considered
  ~ normal use of OPEN ENT NG, and does not fall under the heading of "covered work".
  ~
  ~ This program is distributed in the hope that it will be useful,
  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
  -->

<section class="toggle-buttons" ng-class="{ hide: zimbra.currentFolder.mails.selection.length === 0 && (!zimbra.currentFolder.userFolders || zimbra.currentFolder.userFolders.selected.length === 0) }">
    <div class="toggle">
        <div class="row">
            <button ng-click="showConfirm()" ng-if="zimbra.currentFolder.mails.selection.length || zimbra.currentFolder.userFolders.selected.length">
                <i18n>remove</i18n>
            </button>
            <button ng-click="restore()" ng-if="(zimbra.currentFolder.mails.selection.length || zimbra.currentFolder.userFolders.selected.length) && zimbra.currentFolder.folderName === 'trash'">
                <i18n>restore</i18n>
            </button>
                <button ng-click="moveSelection()" ng-if="zimbra.currentFolder.mails.selection.length && zimbra.currentFolder.folderName !== 'trash'">
                <i18n>move.inside.folder</i18n>
            </button>
            <button ng-click="toggleRecallView()"
                    ng-if="isSelectedRecallable() && zimbra.currentFolder.folderName === 'outbox'"
                    workflow="zimbra.return" >
                <i18n>return</i18n>
            </button>
            <button ng-click="removeFromUserFolder()" ng-if="zimbra.currentFolder.mails.selection.length && zimbra.currentFolder.id">
                <i18n>remove.from.folder</i18n>
            </button>
            <button ng-click="toggleUnreadSelection(false, zimbra.currentFolder)" ng-if="
                    zimbra.currentFolder.mails.selection.length && (zimbra.currentFolder.folderName === 'inbox' || zimbra.currentFolder.id) &&
                    canMarkRead() ">
                <i18n>tag.read</i18n>
            </button>
            <button ng-click="toggleUnreadSelection(true, zimbra.currentFolder)" ng-if="
                    zimbra.currentFolder.mails.selection.length && (zimbra.currentFolder.folderName === 'inbox' || zimbra.currentFolder.id) &&
                    canMarkUnread()">
                <i18n>tag.unread</i18n>
            </button>
        </div>
    </div>
</section>